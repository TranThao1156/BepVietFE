/* =========================================
   1. CORE: CÀI ĐẶT CHUNG & BIẾN
   ========================================= */
:root {
    --primary-color: #FF6B35;
    --text-dark: #1F2937;
    --text-gray: #6B7280;
    --bg-light: #F9FAFB;
    --white: #FFFFFF;
    --border-radius: 12px;
    --container-width: 1200px;
    --sidebar-width: 320px; /* Dành cho trang chi tiết */
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: 'Inter', sans-serif;
    color: var(--text-dark);
    background-color: #FDFDFD;
    line-height: 1.5;
}

a { text-decoration: none; color: inherit; transition: 0.3s; }
ul { list-style: none; }
img { max-width: 100%; display: block; }

.container {
    max-width: var(--container-width);
    margin: 0 auto;
    padding: 0 20px;
}

/* =========================================
   2. COMPONENTS (NÚT, THẺ, INPUT)
   ========================================= */
.btn {
    display: inline-block;
    padding: 10px 24px;
    border-radius: 30px;
    font-weight: 600;
    cursor: pointer;
    border: none;
    font-size: 0.95rem;
}

.btn-primary { background-color: var(--primary-color); color: var(--white); }
.btn-primary:hover { background-color: #e55a2b; }

.btn-outline { background-color: transparent; border: 2px solid var(--white); color: var(--white); }
.btn-outline:hover { background-color: rgba(255,255,255,0.1); }

.btn-white { background: var(--white); color: var(--primary-color); padding: 12px 30px; }

/* Grid Systems */
.grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px; margin-bottom: 60px; }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-bottom: 60px; }

/* Card Style (Dùng chung cho cả trang chủ và trang chi tiết) */
.card {
    background: var(--white);
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    transition: transform 0.2s;
    border: 1px solid #F3F4F6;
    height: 100%; /* Đảm bảo các card cao bằng nhau */
    display: flex;
    flex-direction: column;
}
.nav-links a.active {
    color: var(--primary-color);
    font-weight: 700; /* In đậm lên một chút để dễ nhìn hơn */
}

.card:hover { transform: translateY(-5px); }
.card-img { height: 200px; width: 100%; object-fit: cover; }
.card-body { padding: 15px; display: flex; flex-direction: column; flex-grow: 1; }
.card-title { font-weight: 700; font-size: 1.1rem; margin-bottom: 8px; display: block; }
.card-meta { display: flex; align-items: center; justify-content: space-between; gap: 5px; color: var(--text-gray); font-size: 0.85rem; margin-bottom: 12px; }
.card-footer { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #F3F4F6; padding-top: 12px; margin-top: auto; }

.author { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; font-weight: 500; }
.author img { width: 24px; height: 24px; border-radius: 50%; }

.rating { display: flex; align-items: center; gap: 4px; font-weight: 600; font-size: 0.9rem; }
.rating i { color: #FBBF24; font-size: 0.8rem; }

/* =========================================
   3. LAYOUT: HEADER & FOOTER
   ========================================= */
header {
    background: var(--white);
    padding: 15px 0;
    box-shadow: 0 1px 10px rgba(0,0,0,0.05);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-inner { display: flex; justify-content: space-between; align-items: center; }
.logo { font-size: 1.5rem; font-weight: 700; color: var(--primary-color); display: flex; align-items: center; gap: 8px; }
.nav-links { display: flex; gap: 30px; }
.nav-links a { font-weight: 500; color: var(--text-dark); }
.nav-links a:hover { color: var(--primary-color); }

.header-right { display: flex; align-items: center; gap: 20px; }
.search-box { position: relative; }
.search-box input { padding: 10px 15px 10px 35px; border-radius: 20px; border: 1px solid #E5E7EB; background: #F3F4F6; outline: none; width: 250px; }
.search-box i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #9CA3AF; }

footer { background: var(--white); padding: 60px 0 30px; border-top: 1px solid #E5E7EB; margin-top: 60px; }
.footer-grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1.5fr; gap: 40px; margin-bottom: 40px; }
.footer-col h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 20px; }
.footer-col ul li { margin-bottom: 12px; color: var(--text-gray); font-size: 0.95rem; }
.footer-col ul li:hover { color: var(--primary-color); cursor: pointer; }
.footer-desc { color: var(--text-gray); font-size: 0.9rem; margin-top: 15px; max-width: 300px; }

/* =========================================
   4. HOME PAGE SPECIFIC (Trang chủ)
   ========================================= */
.hero {
    background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), 
                url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=2070&auto=format&fit=crop');
    background-size: cover;
    background-position: center;
    height: 500px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--white);
    margin-bottom: 60px;
}
.hero h1 { font-size: 3rem; font-weight: 700; margin-bottom: 15px; }
.hero p { font-size: 1.1rem; margin-bottom: 30px; max-width: 700px; margin-left: auto; margin-right: auto; }
.hero-btns { display: flex; gap: 15px; justify-content: center; }

.section-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 30px; }
.section-header h2 { font-size: 1.5rem; font-weight: 700; }
.view-all { color: var(--primary-color); font-weight: 600; font-size: 0.9rem; }

/* Region Cards */
.region-card { position: relative; height: 250px; border-radius: var(--border-radius); overflow: hidden; cursor: pointer; }
.region-card img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
.region-card:hover img { transform: scale(1.1); }
.region-overlay { position: absolute; bottom: 0; left: 0; width: 100%; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); padding: 20px; color: white; }
.region-title { font-size: 1.25rem; font-weight: 700; }

/* AI Banner */
.ai-banner {
    background: linear-gradient(90deg, #FF6B35 0%, #FF9F43 100%);
    border-radius: 20px;
    padding: 40px 60px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: var(--white);
    margin-bottom: 80px;
    position: relative;
    overflow: hidden;
}
.ai-content { flex: 1; z-index: 2; }
.ai-badge { background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; display: inline-flex; align-items: center; gap: 6px; margin-bottom: 15px; }
.ai-banner h2 { font-size: 2rem; margin-bottom: 10px; line-height: 1.2; }
.ai-icon { font-size: 6rem; color: rgba(255,255,255,0.3); margin-right: 40px; }

/* =========================================
   5. RECIPE DETAIL SPECIFIC (Trang chi tiết)
   ========================================= */
.recipe-container { padding-top: 40px; padding-bottom: 40px; }

/* Header Info */
.recipe-title { font-size: 2.5rem; font-weight: 700; margin-bottom: 15px; }
.recipe-desc { font-size: 1.1rem; color: var(--text-gray); margin-bottom: 25px; max-width: 800px; }
.recipe-meta-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 1px solid #E5E7EB; padding-bottom: 20px; }
.author-info { display: flex; align-items: center; gap: 12px; }
.author-info img { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
.author-name { font-weight: 700; font-size: 1rem; display: block; }
.post-date { font-size: 0.85rem; color: var(--text-gray); }
.recipe-actions { display: flex; gap: 15px; }
.btn-action { display: flex; align-items: center; gap: 8px; padding: 8px 16px; border: 1px solid #E5E7EB; border-radius: 20px; background: var(--white); font-weight: 600; cursor: pointer; transition: 0.2s; }
.btn-action:hover { background: #F3F4F6; border-color: #D1D5DB; }

/* Hero Image Detail */
.recipe-hero-img { width: 100%; height: 500px; border-radius: 20px; overflow: hidden; margin-bottom: 30px; }
.recipe-hero-img img { width: 100%; height: 100%; object-fit: cover; }

/* Quick Info Bar */
.recipe-quick-info { display: flex; justify-content: space-around; background: var(--bg-light); padding: 25px; border-radius: var(--border-radius); margin-bottom: 40px; }
.info-item { display: flex; align-items: center; gap: 15px; }
.info-item i { font-size: 1.8rem; color: var(--primary-color); }
.info-item div { display: flex; flex-direction: column; }
.info-item span { font-size: 0.9rem; color: var(--text-gray); }
.info-item strong { font-size: 1.1rem; font-weight: 700; }

/* Layout Grid: Ingredients + Steps */
.recipe-content-grid { display: grid; grid-template-columns: var(--sidebar-width) 1fr; gap: 60px; align-items: start; }

/* Sidebar (Ingredients) */
.ingredients-box { background: var(--bg-light); padding: 30px; border-radius: var(--border-radius); }
.ingredients-box h3 { font-size: 1.3rem; font-weight: 700; margin-bottom: 20px; }
.ingredients-list li { margin-bottom: 12px; display: flex; align-items: baseline; gap: 10px; font-size: 1rem; }
.ingredients-list li i { color: var(--primary-color); font-size: 0.9rem; }
.sidebar-banner { margin-top: 30px; border-radius: var(--border-radius); overflow: hidden; position: relative; }
.banner-content { position: absolute; bottom: 0; left: 0; width: 100%; padding: 15px; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); color: var(--white); }

/* Steps */
.main-instructions h2 { font-size: 1.8rem; font-weight: 700; margin-bottom: 30px; }
.step-item { display: flex; gap: 25px; margin-bottom: 40px; }
.step-number { flex-shrink: 0; width: 40px; height: 40px; background: var(--primary-color); color: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.1rem; margin-top: 5px; }
.step-content { flex: 1; }
.step-content h3 { font-size: 1.3rem; font-weight: 700; margin-bottom: 12px; }
.step-content p { font-size: 1.05rem; color: var(--text-dark); margin-bottom: 20px; }
.step-img { width: 100%; border-radius: var(--border-radius); margin-top: 15px; object-fit: cover; max-height: 400px; }

/* Comments */
.comments-section { margin-top: 60px; border-top: 1px solid #E5E7EB; padding-top: 40px;}
.rating-overview { display: flex; align-items: center; gap: 20px; margin-bottom: 30px; background: var(--bg-light); padding: 20px; border-radius: var(--border-radius); }
.rating-score { font-size: 3rem; font-weight: 700; line-height: 1; }
.comment-form textarea { width: 100%; height: 100px; padding: 15px; border: 1px solid #E5E7EB; border-radius: var(--border-radius); resize: vertical; margin-bottom: 15px; font-family: inherit; }

/* Related Recipes */
.related-recipes { margin-top: 80px; }

/* =========================================
   6. RESPONSIVE (Mobile & Tablet)
   ========================================= */
@media (max-width: 992px) {
    .grid-4, .grid-3 { grid-template-columns: repeat(2, 1fr); }
    .hero h1 { font-size: 2.5rem; }
    
    /* Detail Page Tablet */
    .recipe-content-grid { grid-template-columns: 1fr; gap: 40px; }
    .sidebar { order: 2; }
    .main-instructions { order: 1; }
    .recipe-hero-img { height: 400px; }
}

@media (max-width: 768px) {
    .nav-links, .search-box { display: none; }
    .grid-4, .grid-3, .footer-grid { grid-template-columns: 1fr; }
    .hero { height: 400px; }
    .ai-banner { flex-direction: column; text-align: center; padding: 30px; }
    .ai-icon { display: none; }
    
    /* Detail Page Mobile */
    .recipe-title { font-size: 2rem; }
    .recipe-meta-top { flex-direction: column; align-items: flex-start; gap: 20px; }
    .recipe-actions { width: 100%; justify-content: space-between; }
    .btn-action { flex: 1; justify-content: center; }
    .recipe-hero-img { height: 300px; }
    .recipe-quick-info { flex-wrap: wrap; gap: 20px; }
    .info-item { width: 45%; }
    .step-item { flex-direction: column; gap: 15px; }
}
/* =========================================
   7. RECIPES PAGE (Trang danh sách công thức)
   ========================================= */

/* Layout 2 cột: Sidebar & Content */
.discovery-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 40px;
    margin-bottom: 60px;
}

.page-header { margin: 30px 0; }
.breadcrumb { color: var(--text-gray); font-size: 0.9rem; margin-bottom: 10px; }
.breadcrumb i { font-size: 0.7rem; margin: 0 8px; }
.breadcrumb a:hover { color: var(--primary-color); }
.page-header h1 { font-size: 2rem; font-weight: 700; }

/* --- Sidebar Filters --- */
.sidebar-filters {
    background: var(--white);
    border-radius: var(--border-radius);
    padding: 20px;
    height: fit-content;
    /* Optional: Nếu muốn khung viền cho sidebar như card */
    /* border: 1px solid #F3F4F6; */
}

.filter-group { margin-bottom: 30px; border-bottom: 1px dashed #E5E7EB; padding-bottom: 20px; }
.filter-group:last-child { border-bottom: none; }
.filter-group h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }

/* Custom Radio & Checkbox Styling */
.custom-radio, .custom-checkbox {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 12px;
    cursor: pointer;
    font-size: 0.95rem;
    color: var(--text-dark);
}

.custom-radio input, .custom-checkbox input { display: none; } /* Ẩn input mặc định */

/* Radio Mark */
.radio-mark {
    width: 18px; height: 18px; border: 2px solid #D1D5DB; border-radius: 50%;
    position: relative; flex-shrink: 0; margin-top: 2px;
}
.custom-radio input:checked ~ .radio-mark { border-color: var(--primary-color); }
.custom-radio input:checked ~ .radio-mark::after {
    content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 10px; height: 10px; background: var(--primary-color); border-radius: 50%;
}

/* Checkbox Mark */
.checkmark {
    width: 18px; height: 18px; border: 2px solid #D1D5DB; border-radius: 4px;
    position: relative; flex-shrink: 0; margin-top: 2px;
}
.custom-checkbox input:checked ~ .checkmark { background: var(--primary-color); border-color: var(--primary-color); }
.custom-checkbox input:checked ~ .checkmark::after {
    content: '\f00c'; font-family: "Font Awesome 6 Free"; font-weight: 900;
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    color: white; font-size: 0.7rem;
}

.custom-radio small { display: block; color: var(--text-gray); font-size: 0.8rem; margin-top: 2px; }

/* Difficulty Tags as Radio Buttons */
.difficulty-tags { display: flex; gap: 10px; margin-bottom: 20px; }
.hidden-input { display: none; }
.tag-pill {
    padding: 6px 14px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; cursor: pointer;
    background: #F3F4F6; color: var(--text-gray); transition: 0.2s;
}
.hidden-input:checked + .tag-pill.bg-red { background: #FEE2E2; color: #EF4444; border: 1px solid #EF4444; }
.hidden-input:checked + .tag-pill.bg-gray { background: #FFEDD5; color: var(--primary-color); border: 1px solid var(--primary-color); }

/* --- Main List Layout --- */
.list-top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.result-count { font-size: 0.95rem; color: var(--text-gray); }
.result-count b { color: var(--text-dark); }

.list-actions { display: flex; align-items: center; gap: 20px; }
.sort-box span { font-size: 0.9rem; color: var(--text-gray); margin-right: 5px; }
.sort-box select { padding: 6px 10px; border-radius: 6px; border: 1px solid #E5E7EB; outline: none; font-family: inherit; }

.view-mode button {
    background: none; border: 1px solid #E5E7EB; width: 32px; height: 32px; border-radius: 6px; cursor: pointer; color: var(--text-gray);
}
.view-mode button.active { background: #F3F4F6; color: var(--primary-color); border-color: #D1D5DB; }

/* Card Updates for Recipe Page */
.card-img-wrapper { position: relative; height: 200px; }
.card-img-wrapper .card-img { height: 100%; width: 100%; object-fit: cover; }
.wishlist-btn {
    position: absolute; top: 10px; right: 10px;
    width: 32px; height: 32px; border-radius: 50%; background: rgba(255,255,255,0.9);
    border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;
    color: var(--text-gray); transition: 0.2s;
}
.wishlist-btn:hover { color: #EF4444; transform: scale(1.1); }
.wishlist-btn i.fa-solid { color: #EF4444; } /* Nếu đã like */

.category-tag {
    font-size: 0.75rem; font-weight: 600; text-transform: uppercase; color: var(--text-gray);
    margin-bottom: 5px; display: block;
}

/* Pagination */
.pagination { display: flex; justify-content: center; gap: 8px; margin-top: 40px; }
.page-link {
    width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;
    border-radius: 50%; border: 1px solid #E5E7EB; color: var(--text-dark); font-weight: 500; transition: 0.2s;
}
.page-link:hover { border-color: var(--primary-color); color: var(--primary-color); }
.page-link.active { background: var(--primary-color); color: var(--white); border-color: var(--primary-color); }
.page-dots { display: flex; align-items: flex-end; padding: 0 5px; color: var(--text-gray); }

/* Responsive Recipes */
@media (max-width: 992px) {
    .discovery-layout { grid-template-columns: 1fr; }
    .sidebar-filters { display: none; /* Tạm ẩn sidebar trên mobile/tablet cho gọn */ }
    /* Hoặc có thể style thành nút "Mở bộ lọc" nếu muốn nâng cao hơn */
}
/* =========================================
   8. BLOG PAGE (Trang Blog)
   ========================================= */

/* Header Center */
.blog-header-section {
    text-align: center;
    margin: 40px 0 50px 0;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}
.blog-header-section h1 { font-size: 2.2rem; margin: 10px 0; color: var(--text-dark); }
.blog-header-section p { color: var(--text-gray); font-size: 1.1rem; }

/* Blog Toolbar */
.blog-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #F3F4F6;
}

/* Blog Card Specifics */
.blog-card .card-img { height: 220px; } /* Ảnh blog cao hơn chút */
.blog-desc {
    font-size: 0.9rem;
    color: var(--text-gray);
    margin-bottom: 15px;
    display: -webkit-box;
    -webkit-line-clamp: 3; /* Giới hạn 3 dòng mô tả */
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.5;
}
.blog-date {
    font-size: 0.85rem;
    color: #9CA3AF;
    display: flex;
    align-items: center;
    gap: 6px;
}
/* =========================================
   9. BLOG DETAIL PAGE (Chi tiết Blog)
   ========================================= */

/* Layout Grid: Content (Left) + Sidebar (Right) */
.blog-detail-layout {
    display: grid;
    grid-template-columns: 1fr 320px; /* Sidebar rộng 320px */
    gap: 60px;
    margin-bottom: 80px;
    align-items: start;
}

/* Article Styling */
.category-badge {
    background: #FFF7ED; color: var(--primary-color);
    font-size: 0.8rem; font-weight: 700; text-transform: uppercase;
    padding: 6px 12px; border-radius: 4px; display: inline-block; margin-bottom: 15px;
}

.article-title { font-size: 2.2rem; line-height: 1.3; margin-bottom: 20px; }

.article-meta {
    display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px solid #E5E7EB; padding-bottom: 20px; margin-bottom: 30px;
}

.author-mini { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; }
.author-mini img { width: 40px; height: 40px; border-radius: 50%; }
.author-mini span { color: var(--text-gray); display: block; font-size: 0.8rem; }

.meta-stats { color: var(--text-gray); font-size: 0.9rem; display: flex; gap: 15px; }

.article-featured-img { border-radius: 12px; overflow: hidden; margin-bottom: 30px; }
.article-featured-img img { width: 100%; height: auto; display: block; }

/* Content Typography */
.article-content { font-size: 1.1rem; line-height: 1.8; color: #374151; }
.article-content p { margin-bottom: 20px; }
.article-content h2 { font-size: 1.5rem; font-weight: 700; margin: 30px 0 15px 0; color: var(--text-dark); }
.article-content h3 { font-size: 1.3rem; font-weight: 700; margin: 25px 0 10px 0; }
.article-content img { border-radius: 12px; margin: 30px 0; }
.article-content .lead { font-size: 1.2rem; font-weight: 500; color: var(--text-dark); }

/* Blockquote */
blockquote {
    background: #F9FAFB;
    border-left: 4px solid var(--primary-color);
    padding: 20px 30px;
    margin: 30px 0;
    font-style: italic;
    color: #4B5563;
    position: relative;
    border-radius: 0 8px 8px 0;
}
blockquote i {
    color: #FCD34D;
    font-size: 1.5rem;
    position: absolute;
    top: 15px;
    left: 10px;
    opacity: 0.5;
}
blockquote p { margin-bottom: 0; }

/* Article Footer (Tags & Share) */
.article-footer {
    margin-top: 40px; padding-top: 20px; border-top: 1px solid #E5E7EB;
    display: flex; justify-content: space-between; align-items: center;
}
.tags-list .tag {
    background: #F3F4F6; padding: 6px 14px; border-radius: 20px;
    font-size: 0.9rem; color: var(--text-gray); margin-right: 10px;
}
.share-buttons { display: flex; align-items: center; gap: 10px; }
.share-icon {
    width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
    color: white; font-size: 0.9rem; transition: 0.3s;
}
.share-icon:hover { transform: translateY(-3px); }
.share-icon.facebook { background: #1877F2; }
.share-icon.pinterest { background: #E60023; }
.share-icon.twitter { background: #1DA1F2; }

/* --- Sidebar Widgets (Right) --- */
.sidebar-right { position: sticky; top: 100px; }

.widget {
    background: var(--white);
    border: 1px solid #F3F4F6;
    border-radius: 12px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02);
}

.widget h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 20px; border-bottom: 2px solid #F3F4F6; padding-bottom: 10px; display: inline-block; }

/* Author Widget */
.author-widget { text-align: center; }
.author-avatar-large img { width: 100px; height: 100px; border-radius: 50%; margin-bottom: 15px; border: 3px solid #FFF7ED; }
.author-widget p { font-size: 0.9rem; color: var(--text-gray); margin-top: 10px; line-height: 1.5; }

/* Related Posts Widget */
.related-item { display: flex; gap: 15px; margin-bottom: 20px; align-items: flex-start; }
.related-item:last-child { margin-bottom: 0; }
.related-item img { width: 70px; height: 70px; border-radius: 8px; object-fit: cover; flex-shrink: 0; }
.related-info a { font-weight: 600; font-size: 0.95rem; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; color: var(--text-dark); }
.related-info a:hover { color: var(--primary-color); }

/* Responsive Blog Detail */
@media (max-width: 992px) {
    .blog-detail-layout { grid-template-columns: 1fr; }
    .sidebar-right { position: static; }
    .article-title { font-size: 1.8rem; }
}
/* =========================================
   10. AI CHAT PAGE (Trang Chatbot)
   ========================================= */

.chat-wrapper {
    background-color: #FDFDFD;
    height: calc(100vh - 80px); /* Trừ đi header */
    min-height: 600px;
    padding: 20px 0;
}

.chat-layout {
    display: flex;
    height: 100%;
    background: var(--white);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0,0,0,0.05);
    border: 1px solid #F3F4F6;
}

/* --- Sidebar --- */
.chat-sidebar {
    width: 260px;
    background: #F9FAFB;
    border-right: 1px solid #E5E7EB;
    display: flex;
    flex-direction: column;
    padding: 20px;
}

.btn-new-chat {
    width: 100%;
    padding: 12px;
    background: var(--white);
    border: 1px solid #E5E7EB;
    border-radius: 8px;
    color: var(--text-dark);
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: 0.2s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
}

.btn-new-chat:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
}

.history-list {
    flex: 1;
    overflow-y: auto;
    margin-top: 20px;
}

.history-list h4 {
    font-size: 0.75rem;
    color: var(--text-gray);
    margin-bottom: 10px;
    text-transform: uppercase;
    font-weight: 700;
}

.history-item {
    padding: 10px 12px;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--text-dark);
    font-size: 0.9rem;
    margin-bottom: 5px;
    transition: 0.2s;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.history-item i { font-size: 0.9rem; color: var(--text-gray); }
.history-item:hover { background: #E5E7EB; }
.history-item.active { background: #FFF7ED; color: var(--primary-color); font-weight: 500; }
.history-item.active i { color: var(--primary-color); }

.sidebar-footer {
    border-top: 1px solid #E5E7EB;
    padding-top: 5px;
    margin-top: 5px;
}
.user-mini { display: flex; align-items: center; gap: 10px; font-weight: 600; font-size: 0.9rem; }
.user-mini img { width: 32px; height: 32px; border-radius: 50%; }

/* --- Main Chat Area --- */
.chat-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    position: relative;
    background: var(--white);
}

.messages-container {
    flex: 1;
    overflow-y: auto;
    padding: 40px;
    scroll-behavior: smooth;
}

/* Welcome Screen */
.ai-welcome {
    text-align: center;
    margin-top: 40px;
    margin-bottom: 40px;
}
.ai-avatar-large {
    width: 80px; height: 80px;
    background: linear-gradient(135deg, var(--primary-color), #FF9F43);
    border-radius: 50%;
    margin: 0 auto 20px;
    display: flex; align-items: center; justify-content: center;
    color: white; font-size: 2.5rem;
    box-shadow: 0 10px 20px rgba(255, 107, 53, 0.3);
}

/* Suggestion Grid */
.suggestion-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    max-width: 700px;
    margin: 0 auto;
}
.suggestion-card {
    border: 1px solid #E5E7EB;
    border-radius: 12px;
    padding: 15px;
    cursor: pointer;
    transition: 0.2s;
}
.suggestion-card:hover { background: #F9FAFB; border-color: #D1D5DB; }
.suggestion-card h4 { font-size: 0.95rem; margin-bottom: 5px; color: var(--text-dark); }
.suggestion-card p { font-size: 0.85rem; color: var(--text-gray); margin-bottom: 0; }

/* Message Bubbles */
.message-row {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.msg-avatar {
    width: 36px; height: 36px; border-radius: 50%;
    flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
}
.mar {
    margin-top: 20px;
}
/* AI Style */
.message-row.ai .msg-avatar { background: #10A37F; color: white; background: var(--primary-color); }
.message-row.ai .msg-bubble { background: #F9FAFB; color: var(--text-dark); border-radius: 0 12px 12px 12px; }

/* User Style */
.message-row.user { flex-direction: row-reverse; }
.message-row.user .msg-avatar { background: #E5E7EB; color: #4B5563; }
.message-row.user .msg-bubble { background: #FFF7ED; color: var(--text-dark); border-radius: 12px 0 12px 12px; border: 1px solid #FED7AA; }

.msg-bubble {
    padding: 15px 20px;
    line-height: 1.6;
    font-size: 1rem;
    max-width: 85%;
}

/* Typing Indicator (Dấu 3 chấm) */
.typing span {
    display: inline-block; width: 6px; height: 6px; background: #9CA3AF;
    border-radius: 50%; animation: typing 1.4s infinite ease-in-out both; margin: 0 2px;
}
.typing span:nth-child(1) { animation-delay: -0.32s; }
.typing span:nth-child(2) { animation-delay: -0.16s; }
@keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

/* Input Area */
.input-area-wrapper {
    padding: 20px;
    background: var(--white);
    border-top: 1px solid #F3F4F6;
    max-width: 800px;
    margin: 0 auto;
    width: 100%;
}
.input-container {
    position: relative;
    border: 1px solid #E5E7EB;
    border-radius: 12px;
    padding: 5px;
    background: var(--white);
    box-shadow: 0 2px 6px rgba(0,0,0,0.03);
    display: flex;
    align-items: flex-end;
}
.input-container:focus-within { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1); }

.input-container textarea {
    width: 100%;
    border: none;
    outline: none;
    padding: 12px 45px 12px 15px;
    resize: none;
    max-height: 200px;
    border-radius: 12px;
    font-family: inherit;
    font-size: 1rem;
    line-height: 1.5;
}

.btn-send {
    position: absolute;
    right: 10px;
    bottom: 8px;
    background: var(--primary-color);
    color: white;
    border: none;
    width: 32px; height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
}
.btn-send:hover { background: #e55a2b; }
.disclaimer { font-size: 0.75rem; color: #9CA3AF; text-align: center; margin-top: 10px; }
.chat-mobile-header { display: none; }

/* Responsive Chat */
@media (max-width: 768px) {
    .chat-sidebar { display: none; /* Tạm ẩn trên mobile, có thể làm nút toggle sau */ }
    .suggestion-grid { grid-template-columns: 1fr; }
    .messages-container { padding: 20px; }
    .chat-wrapper { height: calc(100vh - 60px); padding: 0; }
    .chat-layout { border-radius: 0; border: none; }
    
    .chat-mobile-header {
        display: flex; align-items: center; gap: 15px; padding: 15px;
        border-bottom: 1px solid #E5E7EB; font-weight: 700;
    }
    .chat-mobile-header button { background: none; border: none; font-size: 1.2rem; }
}
/* =========================================
   4. HOME PAGE SPECIFIC (Trang chủ)
   ========================================= */
   .user-dropdown{
    position: relative;
    cursor: pointer;
}

.user-avatar{
    width: 38px;
    height: 38px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #ff7043;
}

.user-menu{
    position: absolute;
    top: 50px;
    right: 0;
    background: #fff;
    border-radius: 10px;
    padding: 10px 0;
    width: 160px;
    display: none;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    list-style: none;
}

.user-menu li{
    padding: 8px 15px;
}

.user-menu li:hover{
    background: #f5f5f5;
}

.user-menu a{
    text-decoration: none;
    color: #333;
}

.user-dropdown:hover .user-menu{
    display: block;
}

.login-btn a{
    color: white !important;
    text-decoration: none;
}
.search-box {
    display: flex;
    align-items: center;
    gap: 8px;
    background: #fff7ed;
    border: 1px solid #fdba74;
    padding: 6px 10px;
    border-radius: 999px;
}

.search-box i {
    font-size: 14px;
    color: #c2410c;
}

.search-box input {
    border: none;
    outline: none;
    background: transparent;
    font-size: 13px;
    width: 180px;
}

.btn-search {
    padding: 6px 12px;
    border-radius: 999px;
    border: none;
    font-size: 13px;
    font-weight: 500;
    background: #fb923c;
    color: #fff;
    cursor: pointer;
    transition: 0.2s;
}

.btn-search:hover {
    background: #f97316;
}


.btn-filter {
    width: 100%;
    padding: 11px 14px;
    border: none;
    border-radius: 10px;
    background: linear-gradient(135deg, #fed7aa, #fdba74);
    color: #7c2d12; /* chữ rõ hơn */
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    box-shadow: 0 6px 14px rgba(251, 146, 60, 0.2);
    transition: all 0.25s ease;
}

.btn-filter i {
    margin-right: 8px;
    color: #9a3412; /* icon đậm hơn chữ */
}

.btn-filter:hover {
    background: linear-gradient(135deg, #fb923c, #f97316);
    color: #ffffff;
}

.btn-filter:hover i {
    color: #ffffff;
}

.header-row {
    display: flex;         
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.recipe-bottom-layout {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 60px;
    margin-top: 80px;
    align-items: start;
}

.recipe-right-sidebar {
    position: sticky;
    top: 120px;
}

.sidebar-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 20px;
}

.related-list {
    display: flex;
    flex-direction: column;
    gap: 18px;
}

.related-item {
    display: flex;
    gap: 12px;
    align-items: center;
}

.related-item img {
    width: 70px;
    height: 70px;
    border-radius: 8px;
    object-fit: cover;
}

.related-item a {
    font-weight: 600;
    font-size: 0.95rem;
    line-height: 1.4;
}

.related-item span {
    font-size: 0.85rem;
    color: #f97316;
}


/* =========================================
   REVIEW SECTION - UPDATE THEO FIGMA
   ========================================= */

.comments-section {
    margin-top: 40px;
    border-top: 1px solid #E5E7EB;
    padding-top: 30px;
    width: 100%;
}

.section-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 20px;
    color: var(--text-dark);
}

/* Khung Dashboard chứa điểm và form */
.review-dashboard {
    display: flex;
    background: var(--white);
    border: 1px solid #E5E7EB;
    border-radius: 12px;
    padding: 30px;
    margin-bottom: 40px;
    align-items: center;
    gap: 40px;
}

/* Cột trái: Điểm số */
.dashboard-left {
    text-align: center;
    padding-right: 40px;
    border-right: 1px solid #E5E7EB;
    min-width: 220px;
}

.score-big {
    font-size: 4rem; /* Số to đậm */
    font-weight: 800;
    color: var(--text-dark);
    line-height: 1;
    margin-bottom: 8px;
}

.stars-display {
    color: #FBBF24; /* Màu vàng */
    font-size: 1rem;
    margin-bottom: 8px;
    letter-spacing: 2px;
}

.count-text {
    font-size: 0.85rem;
    color: var(--text-gray);
}

/* Cột phải: Form nhập liệu */
.dashboard-right {
    flex-grow: 1;
    width: 100%;
}

/* Hàng trên: Sao + Nút Gửi đánh giá */
.rating-action-row {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 15px;
}

.star-select {
    color: #D1D5DB;
    font-size: 1.2rem;
    cursor: pointer;
    letter-spacing: 3px;
}
.star-select:hover { color: #FBBF24; }

.btn-mini-primary {
    background: var(--primary-color); /* Màu cam */
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
}
.btn-mini-primary:hover { background: #e55a2b; }

/* Wrapper ô nhập text */
.comment-input-wrapper {
    position: relative; /* Quan trọng để đặt nút Gửi vào trong */
    width: 100%;
}

.comment-input-wrapper textarea {
    width: 100%;
    height: 60px; /* Chiều cao giống thiết kế */
    border: 1px solid #E5E7EB;
    border-radius: 6px;
    padding: 12px 130px 12px 15px; /* Padding phải lớn để chữ không đè lên nút */
    font-family: inherit;
    font-size: 0.95rem;
    outline: none;
    resize: none;
    background: var(--white);
    color: var(--text-dark);
}

.comment-input-wrapper textarea:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
}

/* Nút Gửi bình luận nằm trong ô input */
.btn-submit-absolute {
    position: absolute;
    right: 8px;
    bottom: 8px;
    background: var(--primary-color);
    color: white;
    border: none;
    padding: 6px 16px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 700;
    cursor: pointer;
    transition: 0.2s;
}
.btn-submit-absolute:hover { background: #e55a2b; }

/* User Comment Styling */
.user-comment-item {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
}
.cmt-avatar {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    object-fit: cover;
}

.cmt-content { flex: 1; }

.cmt-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 6px;
}

.cmt-name {
    font-weight: 700;
    font-size: 0.95rem;
    color: var(--text-dark);
}

.cmt-badge {
    background: #FEF3C7;
    color: #D97706;
    font-size: 0.75rem;
    font-weight: 700;
    padding: 2px 8px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 4px;
}

.cmt-text {
    font-size: 0.95rem;
    color: #4B5563;
    line-height: 1.5;
}

/* Responsive Mobile */
@media (max-width: 768px) {
    .review-dashboard {
        flex-direction: column;
        align-items: flex-start;
        padding: 20px;
        gap: 20px;
    }
    .dashboard-left {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #E5E7EB;
        padding-bottom: 20px;
        padding-right: 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .score-big { font-size: 2.5rem; margin-bottom: 0; }
    .rating-action-row { justify-content: space-between; width: 100%; }
}

.blog-actions {
    display: flex;
    flex-direction: row;   
    gap: 10px;
    margin-left: auto;     
    align-items: center;
}

.btn-icon {
    width: 40px;
    height: 40px;
    border: none;
    background: #f5f5f5;
    cursor: pointer;
    font-size: 1.2rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
}

/* Icon chung */
.btn-icon {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: all 0.2s ease;
}

/* ===== SỬA ===== */
.btn-edit {
    background-color: #eaf2fb; /* xanh nhạt */
    color: #2980b9;
}

.btn-edit:hover {
    background-color: #2980b9;
    color: #fff;
}

/* ===== XÓA ===== */
.btn-delete {
    background-color: #fdecea; /* đỏ nhạt */
    color: #c0392b;
}

.btn-delete:hover {
    background-color: #c0392b;
    color: #fff;
}
.user-dropdown {
  position: relative;
  cursor: pointer;
}

.user-avatar {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #ff7a18;
}

.user-menu {
  position: absolute;
  top: 55px;
  right: 0;
  width: 220px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
  padding: 12px;
  z-index: 9999;

  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all .25s ease;
}

/* hover giữ menu */


.user-name {
  font-weight: 600;
  margin-bottom: 2px;
}

.user-email {
  font-size: 13px;
  color: #777;
}

.user-menu a,
.user-menu button {
  display: block;
  width: 100%;
  text-align: left;
  background: none;
  border: none;
  padding: 8px 0;
  cursor: pointer;
}

.user-menu button {
  color: #e74c3c;
}
/* =========================================
   USER DROPDOWN 
   ========================================= */

.user-dropdown {
    position: relative;
    display: inline-block;
    padding: 5px 0; /* Tăng diện tích hover cho khung bao ngoài */
}

/* Avatar styling */
.user-avatar {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #ff7a18; /* Màu cam chủ đạo */
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.user-dropdown:hover .user-avatar {
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(255, 107, 53, 0.4);
}

/* Menu Dropdown */
.user-menu {
    position: absolute;
    top: 120%; /* Đẩy xuống dưới avatar một chút */
    right: 0;
    width: 260px; /* Rộng hơn chút để thoải mái nội dung */
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    
    /* Hiệu ứng bóng đổ xịn hơn */
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(0,0,0,0.05);
    
    /* Ẩn mặc định để làm hiệu ứng hiện ra */
    opacity: 0;
    visibility: hidden;
    transform: translateY(15px); /* Dịch xuống một chút để trượt lên */
    transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
    
    z-index: 9999;
}

/* --- QUAN TRỌNG: CẦU NỐI VÔ HÌNH --- 
   Lớp giả này lấp khoảng trống giữa Avatar và Menu 
   để chuột không bị mất focus */
.user-menu::before {
    content: "";
    position: absolute;
    top: -20px; /* Kéo dài lên trên chạm vào avatar */
    left: 0;
    width: 100%;
    height: 30px; 
    background: transparent; /* Trong suốt */
    display: block;
}

/* Tam giác nhỏ chỉ lên trên (Trang trí) */
.user-menu::after {
    content: "";
    position: absolute;
    top: -6px;
    right: 15px;
    width: 12px;
    height: 12px;
    background: #fff;
    transform: rotate(45deg);
    border-top: 1px solid rgba(0,0,0,0.05);
    border-left: 1px solid rgba(0,0,0,0.05);
}

/* Hiệu ứng khi Hover vào cha (.user-dropdown) */
.user-dropdown:hover .user-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

/* Nội dung bên trong Menu */
.user-name {
    font-size: 1.1rem;
    font-weight: 700;
    color: #374151;
    margin-bottom: 2px;
}

.user-email {
    font-size: 0.9rem;
    color: #9CA3AF;
    margin-bottom: 15px;
    word-break: break-all; /* Ngắt dòng nếu email quá dài */
}

/* Đường kẻ ngang */
.user-menu hr {
    border: none;
    border-top: 1px solid #F3F4F6;
    margin: 10px 0;
}

/* Các link và nút */
.user-menu a,
.user-menu button {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 10px 12px;
    border-radius: 8px;
    background: transparent;
    border: none;
    text-align: left;
    cursor: pointer;
    font-size: 0.95rem;
    font-family: inherit;
    font-weight: 500;
    color: #4B5563;
    transition: background 0.2s, color 0.2s;
    text-decoration: none; /* Bỏ gạch chân mặc định của thẻ a */
}

/* Icon (nếu bạn muốn thêm icon vào trong link sau này) */
.user-menu a:hover,
.user-menu button:hover {
    background-color: #FFF7ED; /* Màu nền cam nhạt khi hover */
    color: #FF6B35; /* Màu chữ cam đậm */
}

/* Riêng nút Đăng xuất */
.user-menu button {
    color: #EF4444; /* Màu đỏ nhẹ */
    margin-top: 5px;
}

.user-menu button:hover {
    background-color: #FEF2F2; /* Nền đỏ nhạt */
    color: #DC2626; /* Chữ đỏ đậm */
}
.vai-tro {
    font-weight: bold;
    font-size: 0.9rem;
}
.vai-tro.admin {
    color: #dc3545; /* Màu đỏ cho Admin */
    background: #f8d7da;
    padding: 2px 8px;
    border-radius: 4px;
}
.vai-tro.user {
    color: #28a745; /* Màu xanh lá cho Người dùng */
    background: #d4edda;
    padding: 2px 8px;
    border-radius: 4px;
}